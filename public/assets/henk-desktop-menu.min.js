import{c as q}from"./feather-x-PGl1r6Y-.js";(()=>{const h=()=>{const a=document.documentElement,e=document.querySelector(".henk-header");if(!e)return null;const s={utils:"[data-js-utils]",html:a};let l=null;const o=e.querySelector(s.utils),n=document.createElement("button");n.type="button",n.className="henk-button henk-button--ghost henk-button--small close-menu",n.setAttribute("aria-label","Close menu");const v=e.getAttribute("data-js-close-label")||"Close";n.innerHTML=`
      <i class="henk-icon">
              ${q}
            </i>
${v.toUpperCase()}
    `,n.style.display="none",o==null||o.insertAdjacentElement("afterend",n);let u=null;function E(){const t=e==null?void 0:e.querySelector("details[name='main-nav']");if(!t)return null;const c=t.querySelector("summary"),d=n;if(!c||!d)return null;const b=r=>{r.key==="Tab"&&(!r.shiftKey&&document.activeElement===d?(r.preventDefault(),c.focus()):r.shiftKey&&document.activeElement===c&&(r.preventDefault(),d.focus()))};return e==null||e.addEventListener("keydown",b),()=>{e==null||e.removeEventListener("keydown",b)}}function k(t){o&&(o.style.display="flex")}function f(t){e&&(e.classList.toggle("henk-header--is-open",t),n.style.display=t?"flex":"none",n.style.zIndex=t?"9":"1",o&&(o.style.display=t?"none":"flex"))}let i=null;const m=e==null?void 0:e.querySelectorAll("details[name='main-nav']");m&&(i=new MutationObserver(()=>{const t=Array.from(m).some(c=>c.hasAttribute("open"));f(t),t?(L(),u=E()):(p(),u==null||u())}),m.forEach(t=>i.observe(t,{attributes:!0,attributeFilter:["open"]})));function y(){e==null||e.querySelectorAll("details[open]").forEach(t=>t.removeAttribute("open")),f(!1)}function L(){l=t=>{t.key==="Escape"&&y()},s.html.addEventListener("keydown",l)}function p(){l&&(s.html.removeEventListener("keydown",l),l=null)}function g(){console.log("Init desktop menu"),e&&n.addEventListener("click",()=>y())}function A(){e&&e.querySelectorAll("details[name='main-nav'][open]").forEach(t=>t.open=!1)}return g(),()=>{A(),n.remove(),e.classList.remove("henk-header--is-open"),k(),p(),i==null||i.disconnect(),i=null}};document.addEventListener("DOMContentLoaded",()=>{const a=window.matchMedia("(min-width: 768px)");let e=null;const s=l=>{l.matches&&!e?e=h():!l.matches&&e&&(e(),e=null,console.log("Desktop menu destroyed"))};s(a),a.addEventListener("change",s)})})();
