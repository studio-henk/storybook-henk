"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=window.matchMedia("(min-width: 768px)");let n=null;const s=e=>{if(e.matches){if(!n){const e=(()=>{const e=document.documentElement,n=document.querySelector(".henk-header");if(!n)return null;const s={mainLevel:".main-level",openClass:"open",openingClass:"opening",closingClass:"closing",openButton:'[data-js-behavior="openSub"]',utils:"[data-js-utils]",html:e};let t=null;const o=n.querySelector(s.utils),l=document.createElement("button");function a(e){n&&(n.classList.toggle("henk-header--is-open",e),l.style.display=e?"flex":"none")}function i(e){o&&(o.style.display=e?"none":"flex")}function c(n,o){if(!n)return;o&&o.preventDefault();const l=document.querySelector(`.${s.openClass}`);l&&l!==n&&(l.classList.remove(s.openClass,s.openingClass,s.closingClass),d()),n.classList.contains(s.openClass)?r(n):(n.classList.add(s.openingClass),setTimeout(()=>{n.classList.remove(s.openingClass),n.classList.add(s.openClass),e.style.overflow="hidden",i(!0),a(!0),t=e=>{"Escape"===e.key&&u()},s.html.addEventListener("keydown",t)},20))}function r(n,t=!0){n&&n.classList.contains(s.openClass)&&(n.classList.add(s.closingClass),setTimeout(()=>{n.classList.remove(s.openClass),n.classList.remove(s.closingClass),t&&(e.style.overflow="",i(!1),a(!1)),d()},500))}function u(){const e=document.querySelector(`.${s.openClass}`);e&&r(e)}function d(){t&&(s.html.removeEventListener("keydown",t),t=null)}return l.type="button",l.className="henk-button henk-button--ghost henk-button--small close-menu",l.setAttribute("aria-label","Close menu"),l.innerHTML='\n      <i class="henk-icon">\n        <svg\n          width="24"\n          height="24"\n          viewBox="0 0 24 24"\n          fill="none"\n          xmlns="http://www.w3.org/2000/svg"\n        >\n          <path\n            d="M23.5 0.5L0.5 23.5M0.5 0.5L23.5 23.5"\n            stroke="currentcolor"\n            stroke-linecap="round"\n            stroke-linejoin="round"\n          ></path>\n        </svg>\n      </i>\n      CLOSE\n    ',l.style.display="none",null==o||o.insertAdjacentElement("afterend",l),n&&(n.querySelectorAll(s.openButton).forEach(e=>{e.addEventListener("click",e=>c(e.currentTarget,e))}),l.addEventListener("click",()=>u())),()=>{l.remove(),e.style.overflow="",n.classList.remove("henk-header--is-open"),i(!1),n.querySelectorAll(s.mainLevel).forEach(e=>{e.classList.remove(s.openClass,s.openingClass,s.closingClass)}),n.querySelectorAll('[data-js-behavior="openSub"]').forEach(e=>{e.classList.remove(s.openClass,s.openingClass,s.closingClass)}),d(),n.querySelectorAll(s.openButton).forEach(e=>{e.replaceWith(e.cloneNode(!0))})}})();"function"==typeof e&&(n=e)}}else n&&(n(),n=null)};s(e),e.addEventListener("change",s)});