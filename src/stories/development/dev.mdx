import { Meta, ColorPalette, ColorItem } from "@storybook/blocks";
import Swatches from "@internal-components/Swatches.jsx";

<Meta title="Development/Dev" />

# Development

## JavaScript

We write JavaScript following the guidelines from [RSJS](https://rstacruz.github.io/rsjs/).

The core principles include:

- **Avoid using CSS class names as JavaScript hooks.**  
  Instead of selecting elements by class, use **data attributes** for behavior hooks.  

- **Data attributes naming convention:**  
  Use `data-js-*` where `*` is the name of the script.  

  Example:  

  ```html
  <button data-js-expand>Expand</button>
  ```

corresponds to the script file: henk-expand-button.js

- **Separation of concerns:**
  - CSS classes control visual presentation.
  - Data attributes control behavior via JavaScript.
  This ensures your JS doesnâ€™t break if CSS changes and keeps markup clean.

```js

// henk-expand-button.ts

const buttons = document.querySelectorAll('[data-js-expand]');

buttons.forEach(button => {
  button.addEventListener('click', () => {
    const target = document.querySelector(button.dataset.target!);
    if (target) target.classList.toggle('is-open');
  });
});
```

## TypeScript

- All JavaScript in Storybook is written in TypeScript (.ts files).
- The TypeScript files are compiled to JavaScript and minified using our npm script:

```bash
npm run build:js
```

- This allows us to use type safety, modern syntax, and maintainable code across components and pages.

## Headless

We have a proof-of-concept headless version of the site which uses GraphQL queries to fetch Shopify content dynamically.

- This is primarily for demo purposes and testing alternative data flows.
- Example: Astro + Shopify GraphQL POC

[Headless Stores Demo](https://9000-firebase-henk-test-1756382641035.cluster-3iz2yhcd4rhr2rsnuja2mv2i6k.cloudworkstations.dev/en/stores/?utm_source=chatgpt.com)

Following RSJS guidelines and TypeScript ensures our JavaScript is modular, maintainable, and decoupled from styles, while the headless POC explores future ways to fetch and render Shopify content dynamically.

